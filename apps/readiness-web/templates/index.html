{% extends 'base.html' %}
{% block content %}
<form method="post" action="{{ url_for('readiness_submit') }}" class="card">
  <input type="hidden" name="lang" value="{{ lang }}" />

  <!-- Participant info -->
  <section class="section">
    <h2>{{ texts.labels.participant }}</h2>
    <div class="grid">
      <label class="row">
        <span>{{ texts.labels.name }}</span>
        <input type="text" name="name" placeholder="{{ texts.labels.name }}" required>
      </label>
      <label class="row">
        <span>{{ texts.labels.age_group }}</span>
        <input type="text" name="age_group" placeholder="{{ texts.labels.age_group }}" required>
      </label>
      <label class="row">
        <span>{{ texts.labels.sport }}</span>
        <input type="text" name="sport" placeholder="{{ texts.labels.sport }}" required>
      </label>
    </div>
  </section>

  <!-- I-PRRS -->
  <section class="section">
    <h2>{{ texts.iprrs_title }}</h2>
    <p class="muted">{{ texts.iprrs_intro }}</p>
    <div class="grid">
      {% for item in texts.iprrs_items %}
        <label class="row">
          <span>{{ loop.index }}. {{ item }}</span>
          <input
            required
            type="number"
            name="iprrs{{ loop.index }}"
            min="0"
            max="10"
            step="1"
            placeholder="0–10"
          />
        </label>
      {% endfor %}
    </div>
    {# Kért mondat KIVÉVE: <p class="tiny muted">{{ texts.iprrs_note }}</p> #}
  </section>

  <!-- AFAQ -->
  <section class="section">
    <h2>{{ texts.afaq_title }}</h2>
    <p class="muted">{{ texts.afaq_intro }}</p>

    <div class="grid">
      {% for item in texts.afaq_items %}
        {% set q = loop.index %} {# kérdés sorszáma: 1..10 #}
        <div class="row">
          <span>{{ q }}. {{ item }}</span>
          <div class="scale">
            {% for i in range(1,6) %}
              {% set rid = 'afaq-%d-%d' % (q, i) %}
              <label class="opt" for="{{ rid }}">
                <input
                  id="{{ rid }}"
                  type="radio"
                  name="afaq{{ q }}"
                  value="{{ i }}"
                  {% if i == 1 %}required{% endif %}
                />
                <span>{{ i }}</span>
              </label>
            {% endfor %}
          </div>
        </div>
      {% endfor %}

      <div class="scale-legend">
        {% for label in texts.afaq_scale %}
          <div><strong>{{ loop.index }}</strong> – {{ label }}</div>
        {% endfor %}
      </div>
    </div>
  </section>

  <!-- Alsó küldés gomb -->
  <div class="actions" style="margin-top:16px;">
    <button class="btn primary"
            type="submit"
            style="display:block;width:100%;padding:12px 16px;font-weight:600;">
      {{ texts.labels.submit if texts.labels is defined and texts.labels.submit is defined else ('Küldés' if lang=='hu' else 'View result') }}
    </button>
  </div>
</form>
{% endblock %}
